<ModalDialog
    @onClose={{this.close}}
    @translucentOverlay=true
    @tetherTarget=".toolbar"
    @targetAttachment="top center"
    @targetOffset="100px 0"
    @attachment="top center"
>
    <div class="modal-body" {{on "keydown" this.handleKeydown}}>
        {{#if @saveTask.last.error}}
            {{!-- TODO real error handling --}}
            {{@saveTask.last.error}}
        {{/if}}
        <Utils::TextEditor @content={{@note.content}} @onChange={{this.updatedNote}} />
    </div>
    <Notes::Footer
        @note={{@note}}
        @tags={{@tags}}
        @onTagSelect={{this.selectTag}}
        @onTagCreate={{this.createTag}}
        @onNoteDelete={{this.onDeleteOpen}}
        @onTagRemove={{this.removeTagFromNote}}
    />
</ModalDialog>

{{#if this.isConfirmingDelete}}
    <ConfirmModal
            @class="small"
            @item={{this.noteForDeletion}}
            @header="Delete Collection"
            @buttonLabel="Delete"
            @onClose={{fn this.onDeleteClose false}}
            @onConfirm={{fn this.onDeleteClose true}}
    >
        Are you sure you want to delete this note?
    </ConfirmModal>
{{/if}}
