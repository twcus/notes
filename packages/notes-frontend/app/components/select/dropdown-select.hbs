<BasicDropdown
    @onOpen={{this.open}}
    @onClose={{this.close}}
    as |dd|
>
    <dd.Trigger @stopPropagation={{@stopPropagation}} class="button {{if this.isOpen "active"}}">{{yield}}</dd.Trigger>
    <dd.Content>
        {{#if @isMultiSelect}}
            <PowerSelectMultipleWithCreate
                @options={{@options}}
                @selected={{@selected}}
                @onChange={{this.select}}
                @onCreate={{this.create}}
                @onClose={{this.preventSelectClose}}
                @triggerComponent="select/select-trigger"
                @suggestedOptionComponent="select/select-suggestion"
                @placeholder={{@placeholder}}
                @searchMessage={{@searchMessage}}
                @buildSuggestion={{this.customSuggestion}}
                @searchField={{@searchField}}
                @showCreateWhen={{this.showCreateOption}}
                @searchEnabled={{@searchEnabled}}
                @triggerClass={{@triggerClass}}
                @dropdownClass={{@dropdownclass}}
                @matchTriggerWidth={{@matchTriggerWidth}}
                @initiallyOpened=true
                @closeOnSelect=false
                as |item|
            >
                <span class="option-wrapper"><Select::SelectOption @option={{item}} @displayProperty={{@displayProperty}} @selectedIcon="check" /></span>
            </PowerSelectMultipleWithCreate>
        {{else}}
            <PowerSelect
                @options={{@options}}
                @selected={{@selected}}
                @onChange={{this.select}}
                @onClose={{this.preventSelectClose}}
                @triggerComponent="select/select-trigger"
                @searchEnabled={{@searchEnabled}}
                @triggerClass={{@triggerClass}}
                @dropdownClass={{@dropdownClass}}
                @initiallyOpened=true
                @matchTriggerWidth={{@matchTriggerWidth}}
                @closeOnSelect=false
                as |item|
            >
                <span class="option-wrapper" {{on "click" (fn this.closeDropdown dd)}} ><Select::SelectOption @option={{item}} @displayProperty={{@displayProperty}} @selectedIcon="check" /></span>
            </PowerSelect>
        {{/if}}
    </dd.Content>
</BasicDropdown>
